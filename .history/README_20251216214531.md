# API Endpoints

- path("api/", include("blog.urls")) and in blog/urls.py you registered:
  - categories
  - tags
  - posts
  - comments

## Categories endpoints (/api/categories/)

- GET /api/categories/ → list categories (public)
- POST /api/categories/ → create category (admin/staff only)
- GET /api/categories/{id}/ → retrieve one (public)
- PUT /api/categories/{id}/ → full update (admin/staff only)
- PATCH /api/categories/{id}/ → partial update (admin/staff only)
- DELETE /api/categories/{id}/ → delete (admin/staff only)

## Tags endpoints (/api/tags/)

- GET /api/tags/ → list tags (public)
- POST /api/tags/ → create tag (admin/staff only)
- GET /api/tags/{id}/ → retrieve one (public)
- PUT /api/tags/{id}/ → full update (admin/staff only)
- PATCH /api/tags/{id}/ → partial update (admin/staff only)
- DELETE /api/tags/{id}/ → delete (admin/staff only)

## Posts endpoints (/api/posts/)


Standard CRUD

GET /api/posts/ → list posts

anonymous users: published only

logged-in users: all posts (as we wrote it; you can change this)

POST /api/posts/ → create post (authenticated)

GET /api/posts/{id}/ → retrieve one (public, but unpublished may be hidden depending on your get_queryset())

PUT /api/posts/{id}/ → update (author or admin)

PATCH /api/posts/{id}/ → partial update (author or admin)

DELETE /api/posts/{id}/ → delete (author or admin)

Custom actions (we added)

POST /api/posts/{id}/publish/ → set is_published=True (author or admin)

POST /api/posts/{id}/unpublish/ → set is_published=False (author or admin)

Query parameters supported (list endpoint)

Search: /api/posts/?search=django

Filter: /api/posts/?category=1

Filter by tag: /api/posts/?tags=3

Filter published: /api/posts/?is_published=true

Ordering: /api/posts/?ordering=created_at or ?ordering=-created_at

Pagination: /api/posts/?page=2

Comments endpoints (/api/comments/)
Standard CRUD (but permissions restrict actions)

GET /api/comments/ → list comments (public)

public sees approved only

admin sees all

logged-in user sees approved + their own pending

POST /api/comments/ → create comment (authenticated)

automatically saved as is_approved=False

GET /api/comments/{id}/ → retrieve one (public, but may be hidden if not approved depending on queryset logic)

PUT /api/comments/{id}/ → update (admin only, based on our permissions)

PATCH /api/comments/{id}/ → partial update (admin only)

DELETE /api/comments/{id}/ → delete (admin only)

Filter comments for a post

GET /api/comments/?post={post_id}
Example: /api/comments/?post=5

Moderation actions (admin/staff only)

PATCH /api/comments/{id}/approve/ → approve comment

PATCH /api/comments/{id}/reject/ → reject/unapprove comment

If you also add JWT auth endpoints (next step)

These are not from the router; you add them manually in your project URLs:

POST /api/auth/token/ → login (get access + refresh)

POST /api/auth/token/refresh/ → refresh access token